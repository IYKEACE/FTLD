This documentation focuses on the execution flow of the `ftldtoken.ts` script.

***

# FTLDToken Interaction Report

## Overview
This document details the lifecycle and transaction interactions generated by the `ftldtoken.ts` script against the **FTLDToken** smart contract. It covers the deployment context, token minting process, and peer-to-peer transfers as defined in (`Base.sol`)["./contracts/Base.sol] and (`Token.sol`)["./contracts/Token.sol].

### Contract Architecture
* **BaseToken (`Base.sol`):** Handles core state variables (`_balances`, `totalSupply`), standard `_transfer` logic, and a fixed-cap `_mint` logic where minting depletes the `totalSupply`.
* **FTLDToken (`Token.sol`):** Inherits BaseToken. Introduces an `onlyOwner` modifier and a specialized `mint` function that applies a specific tax logic before allocation.

---

## 1. System State & Actors

Before transactions execution, the system initialized with the following parameters:

| Actor | Address | Role |
| :--- | :--- | :--- |
| **Owner/Sender** | `0xf39fd6e51aad88f6f4ce6ab8827279cfffb92266` | Deployer & Minter |
| **Contract** | `0x5fbdb2315678afecb367f032d93f642f64180aa3` | FTLDToken |
| **Client 1** | `0x70997970C51812dc3A010C7d01b50e0d17dc79C8` | Recipient |
| **Client 2** | `0x3C44CdDdB6a900fa2b585dd299e03d12FA4293BC` | Recipient |

* **Initial Total Supply:** `100,000,000,000,000,000,000n` (100 Tokens * 1e18)

---

## 2. Transaction 1: Token Minting

The owner executed a mint function to allocate tokens to Client 1.

### Logic Executed (`FTLDToken.sol`)
The `mint` function was called. Per the contract logic:
1.  **Tax Calculation:** It attempts to calculate a tax (defined as 200).
2.  **Net Mint:** The main amount is minted to the target.
3.  **Tax Mint:** Any calculated tax is minted back to the Owner.
    * *Note: In this specific interaction, the input amount (20n) was too small to generate a tax via integer division, resulting in a clean transfer of 20n to Client 1.*

### Transaction Details
* **Type:** EIP-1559
* **Transaction Hash:** `0x806e4b58de22b4cf1f1fb2d854816642470c33796c316364e562ece85bd69e85`
* **Status:** Success
* **Gas Used:** `56,613`

### Events Emitted
The contract emitted the `TokenMinted` event from `Base.sol`.

| Event | Argument | Value |
| :--- | :--- | :--- |
| **TokenMinted** | `to` | `0x709...79C8` (Client 1) |
| | `amount` | `20n` |



---

## 3. Transaction 2: Token Transfer

Client 1 transferred a portion of their balance to Client 2.

### Logic Executed (`Base.sol`)
The `transfer` wrapper in `FTLDToken` called `_transfer` in `Base.sol`:
1.  **Zero-Check:** Verified addresses are not zero.
2.  **Balance Check:** Verified Client 1 had $\ge 10$ tokens.
3.  **State Update:** Deducted 10 from Client 1, added 10 to Client 2.

### Transaction Details
* **Type:** EIP-1559
* **Transaction Hash:** `0x81936670e39845b1a98bd79c6a774cc7bdabef6270ddcafdf0568a77bf4d1495`
* **Status:** Success
* **Gas Used:** `52,822`

### Events Emitted
The contract emitted the `TokenTransferred` event from `Base.sol`.

| Event | Argument | Value |
| :--- | :--- | :--- |
| **TokenTransferred** | `from` | `0x709...79C8` (Client 1) |
| | `to` | `0x3C4...93BC` (Client 2) |
| | `amount` | `10n` |

---

## 4. Final State Verification

Following the execution of the script, the ledger balances were verified as follows:

| Account | Initial Balance | After Mint | Final Balance (After Transfer) |
| :--- | :--- | :--- | :--- |
| **Client 1** | `0n` | `20n` | **`10n`** |
| **Client 2** | `0n` | `0n` | **`10n`** |

**Lifecycle Test Status:** Complete and Verified.